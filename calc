<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    fieldset {
      margin: 3rem 2rem;
      width: fit-content;
      padding: 2rem;
      border-radius: .5rem;
    }
    caption{ font-size: 1.5rem;padding-bottom: 1rem;}
    table,th{background: #333;padding : 1rem;border-radius: .75rem;}
    th{ padding-right: .5rem;height: 5rem;}
    td{ height: 2rem; text-align: center;}
    th>input { width: 100%;border: none;background: #333;color: #fff;text-align: right;font-size: 1.5rem;}
    td>input{width: 100%;height: inherit;color: #333;font-size: 1.5rem;border: none;border-radius: .25rem;}
    td>input[type='button']{width: 100%;height: inherit; color: #333;font-size: 1.5rem;border: none;}
    td>input[type='button']:hover{background: #999;}
    td:last-child>input{background: orange;color: #fff;}
  </style>
</head>
<body>
  <fieldset>
    <form name="calc">
      <table>
        <caption>계산기</caption>
        <tr>
          <th colspan="4">
            <input type="text" name="result" value="0">
          </th>
        </tr>
        <tr>
          <td><input type="button" value="7"></td>
          <td><input type="button" value="8"></td>
          <td><input type="button" value="9"></td>
          <td><input type="button" value="+"></td>
        </tr>
        <tr>
          <td><input type="button" value="4"></td>
          <td><input type="button" value="5"></td>
          <td><input type="button" value="6"></td>
          <td><input type="button" value="-"></td>
        </tr>
        <tr>
          <td><input type="button" value="1"></td>
          <td><input type="button" value="2"></td>
          <td><input type="button" value="3"></td>
          <td><input type="button" value="*"></td>
        </tr>
        <tr>
          <td colspan="2"><input type="button" value="0"></td>
          <td><input type="button" value="%"></td>
          <td><input type="button" value="/"></td>
        </tr>
        <tr>
          <td colspan="2"><input type="button" class='cls_btn' value="clear"></td>
          <td colspan="2"><input type="button" class='result_btn' value="="></td>
        </tr>
      </table>
    </form>
  </fieldset>
  <script> 
    const calc = document.forms['calc'];
    const input = [...calc].map(input => input);
    const clsBtn = input[16];
    const resultBtn = input[17];

    clsBtn.addEventListener('click', () => calc['result'].value = 0);
    resultBtn.addEventListener('click', myResult);

    function cal(value) {
      if(calc['result'].value === '0') calc['result'].value = ''
      calc['result'].value += value;
    }

    function myResult() {
      try{
        const result = document.forms['calc']['result'];
        const calculate = eval(result.value);
        calc['result'].value = calculate;
      } catch(err) {
        calc['result'].value = '입력오류';
      }
    }

    input
      .filter(input => input.value !== '=' && input.value !== 'clear')
      .map(sachick => sachick.addEventListener('click', (e) => {
        cal(e.target.value)
      }));
  </script>
</body>
</html>
